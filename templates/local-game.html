<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Puissance 4 - 2 Joueurs</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body class="game-page">
  <div class="game-container">
    <h1 class="title">Puissance 4 - ğŸ”´ {{.Player1}} vs ğŸŸ¡ {{.Player2}}</h1>

    {{if .GameOver}}
      <div class="victory-screen">
        <div class="victory-card">
          <div class="trophy">ğŸ†</div>

          <h2 class="winner-text">
            {{if eq .Winner "R"}}ğŸ”´ 
              {{if .Player1}}{{.Player1}}{{else}}Joueur{{end}} 
              GAGNE ! ğŸ‰
            {{else if eq .Winner "Y"}}ğŸŸ¡ 
              {{if .Player2}}{{.Player2}}{{else}}BOT{{end}} 
              GAGNE ! ğŸ’›
            {{else}}
              ğŸ¤ Match nul !
            {{end}}
          </h2>

          <div class="victory-buttons">
            <a href="/local" class="restart-btn">ğŸ” Rejouer une partie</a>
            <a href="/menu" class="menu-btn">ğŸ  Retour au menu</a>
          </div>
        </div>
      </div>
    {{else}}
      <h3 class="subtitle">
        Tour actuel :
        {{if eq .Current "R"}}ğŸ”´ {{.Player1}}{{else}}ğŸŸ¡ {{.Player2}}{{end}}
      </h3>

      <div class="grid">
        {{range $i, $row := .Grid}}
          <div class="row">
            {{range $j, $cell := $row}}
              <form action="/local-game?player1={{$.Player1}}&player2={{$.Player2}}" method="POST" style="display:inline;">
                <input type="hidden" name="col" value="{{$j}}">
                <button type="submit" class="cell">
                  {{if eq $cell "R"}}<span class="disc red"></span>
                  {{else if eq $cell "Y"}}<span class="disc yellow"></span>
                  {{else}}<span class="disc empty"></span>{{end}}
                </button>
              </form>
            {{end}}
          </div>
        {{end}}
      </div>

      <a href="/menu" class="back-btn">â¬… Retour au menu</a>
    {{end}}
  </div>

  <div class="animation-layer"></div>
  <script src="/static/script.js"></script>
</body>
</html>
